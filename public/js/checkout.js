function cancelOrder(r,o){Confirm("Are you sure you want to cancel this order?",function(e){e&&(preloader(1),socket.emit("cancel_order_hb348u94334",r,o,function(e){e.succ?window.location="/co-logout":(preloader(0),Err("Sorry, An error was encountered!"))}))})}function completeOrder(t,c,s){preloader(1),socket.emit("init_payment_jfhg4y28910",t,c,s,function(n){function o(e,r){var o,a;preloader(0),e?(o=n.cart.length,e=n.cart.join(","),preloader(1),a=parseFloat(n.price),socket.emit("complete_order_e-roi4ugy782",t,c,s,e,o,n.price,r,n.em,function(e){preloader(0),e.succ?(preloader(1),checkForStorage()&&(localStorage.setItem("cart",""),localStorage.setItem("cartlu",e.tm)),$.ajax({url:"/create-order-session-hbu383",type:"POST",data:{oid:c,uid:s,ema:e.ema,_csrf:csrfx},error:function(e){preloader(0),0<a?($("body").html('<div class="padtwenty text-center"><button onclick="link(\'/account/dashboard\')" class="panButton dark-green-bg black-out light-green radfive">Go To Dashboard</button></div>'),Err("A connection error occurred but your payment has been successfully recorded. Please contact us through any of the channels provided in our contact page or through the support channel on your dashboard to receive the items you have purchased. We are sorry for inconveniences caused.")):Err("A connection error occured! Please try again...")},success:function(e){e.succ?window.location="/order/"+c:(preloader(0),Err(e.message))}})):e.message?($("body").html('<div class="padtwenty text-center"><button onclick="link(\'/account/dashboard\')" class="panButton dark-green-bg black-out light-green radfive">Go To Dashboard</button></div>'),Err(e.message)):0<a?($("body").html('<div class="padtwenty text-center"><button onclick="link(\'/account/dashboard\')" class="panButton dark-green-bg black-out light-green radfive">Go To Dashboard</button></div>'),Err("An unknown error occurred but your payment has been successfully recorded. Please contact us through any of the channels provided in our contact page or through the support channel on your dashboard to receive the items you have purchased. We are sorry for inconveniences caused.")):Err("An unkown error occured! Please try again...")})):Err("Payment failed! Please try again...")}n.succ?(preloader(0),0==n.price||"dev"==n.mode?o(!0,"NOREF"):PaystackPop.setup({key:n.ppub,email:n.email,amount:parseInt(100*parseFloat(n.price)),currency:n.cur,metadata:{custom_fields:[{display_name:"Mobile Number",variable_name:"mobile_number",value:n.phone}]},callback:function(e){var r=e.reference;socket.emit("verify_transaction",r,c,function(e){e.succ?o(!0,r):e.message?Err(e.message):o(!1,"NOREF")})},onClose:function(){o(!1,"NOREF")}}).openIframe()):(preloader(0),n.message?Err(n.message):Err("An unknown error was encountered! Please try again..."))})}