function img_res(){$(".img_res").each(function(){var e=$(this).width();$(this).height()<=e?$(this).css("width","auto").css("height","100%"):$(this).css("width","100%").css("height","auto"),$(this).css("opacity","1")})}function clone(e){return JSON.parse(JSON.stringify(e))}function preloader(e){1==e&&$("#preloader").show(),0==e&&$("#preloader").hide()}var visited=[];function tab(e){$(".tab").fadeOut(100),$("#tab-"+e).fadeIn(100);var t="tab('"+e.toString()+"')",a=visited.length-1;t==visited[a]&&visited.pop(),visited.push(t),"search"==e&&$("#search").focus(),img_res(),$("body").addClass("stop"),"search"==e&&$("#searchinp").focus()}function cli(a){$(".tab").fadeOut(100),visited.pop();var last=visited.length-1;eval(visited[last]),$("body").removeClass("stop")}function addToCart(e){var a='<div class="text-center"><p class="panP light-black text-center wide"><i class="fa fa-check-circle dark-green" style="font-size:75px"></i> <br>Item added to cart successfully! </p><br><button class="btn btn-success marfive" onclick="bootbox.hideAll()">Ok</button><button class="btn btn-default marfive" onclick="link(\'/cart\')">View Cart</button></div>';if(null==username())if(checkForStorage()){var t=localStorage.getItem("cart"),o=e.toString()+" ";if(null==t||"undefined"==t||""==t)localStorage.setItem("cart",o),socket.emit("get_timestamp",function(e){localStorage.setItem("cartlu",e)}),bootbox.dialog({closeButton:!1,message:a}),loadcart();else{var i=[];if((t=t.split(" ")).forEach(function(e){/\d+/.test(e)&&i.push(parseInt(e))}),-1==i.indexOf(e))if(50<=i.length)Err("Sorry! You can only add a maximum of 50 items to your cart per order.");else{i.push(e),o=i.join(" ")+" ",localStorage.setItem("cart",o),socket.emit("get_timestamp",function(e){localStorage.setItem("cartlu",e)}),bootbox.dialog({closeButton:!1,message:a}),loadcart();try{load_car()}catch(e){}}else Info("This item has been added to your cart already! Please visit your cart to checkout or remove items...")}}else Err("You will not be able to add any item to your cart using your current web browser until you sign into your account.");else socket.emit("add_to_cart",username(),e,function(e){if(e.err)Err(e.message);else if(e.info)Info(e.message);else if(e.succ){var t=e.message;checkForStorage()&&(localStorage.setItem("cart",t),localStorage.setItem("cartlu",e.tm)),bootbox.dialog({closeButton:!1,message:a}),loadcart();try{load_car()}catch(e){}}else Err("An unknown error has occurred. Please try again...")})}function loadcart(){var t,e;null==username()?checkForStorage()?null==(e=localStorage.getItem("cart"))||"undefined"==e||""==e?$("#cartcount").html(""):(t=[],(e=e.split(" ")).forEach(function(e){/\d+/.test(e)&&t.push(parseInt(e))}),0==t.length?($("#cartcount").html(""),localStorage.setItem("cart","")):9<t.length?$("#cartcount").html("9+"):$("#cartcount").html(t.length)):Info("You will not be able to add any item to your cart using your current web browser until you sign into your account."):socket.emit("load_user_cart",username(),function(e){var t,a;!e.succ||null==(a=e.message)||"undefined"==a||""==a?$("#cartcount").html(""):(t=[],(a=a.split(" ")).forEach(function(e){/\d+/.test(e)&&t.push(parseInt(e))}),0==t.length?($("#cartcount").html(""),socket.emit("clear_cart_hgdvyu37r",username())):9<t.length?$("#cartcount").html("9+"):$("#cartcount").html(t.length))})}function syncCart(t,e,a){if(checkForStorage()){var o=localStorage.getItem("cart");if("undefined"==o||null==o||""==o)""!=t&&(localStorage.setItem("cart",t),localStorage.setItem("cartlu",a),loadcart());else{var i=[];if(vx=""+o,(o=o.split(" ")).forEach(function(e){/\d+/.test(e)&&i.push(parseInt(e))}),0==i.length)""!=t&&(localStorage.setItem("cart",t),localStorage.setItem("cartlu",a),loadcart());else{var n=localStorage.getItem("cartlu");try{e<(n=parseInt(n))?null!=username()&&socket.emit("update_back_cart_euhd38421e94",username(),vx,function(e){e.succ&&loadcart()}):n<e&&(localStorage.setItem("cart",t),localStorage.setItem("cartlu",a),loadcart())}catch(e){""!=t&&(localStorage.setItem("cart",t),localStorage.setItem("cartlu",a))}}}}}function toggleAudio(){$("#audio").toggleClass("active")}$(document).ready(function(){preloader(0),$(window).on("scroll",function(){200<$(window).scrollTop()?$("#backToTop").fadeIn():$("#backToTop").fadeOut()}),document.getElementById("audioCurrentTrack").addEventListener("click",function(e){(audio.src.includes(".mp3")||audio.src.includes(".m4a")||audio.src.includes(".wav"))&&(e=(e.clientX-100)/(screen.width-65-80)*100,audio.currentTime=e/100*audio.duration)}),img_res(),setTimeout(function(){img_res()},100),updateUser(),loadcart()});var audio=new Audio;audio.autoplay=!0;var playkeeper=!1;function play(o){socket.emit("fecth_demo_fihgfy7489f",o,function(e){var t,a;e.succ?(0!=playkeeper&&clearTimeout(playkeeper),t=e.message,a=e.picture,audio.src=t,$("#audioImage").show(),$("#audioImage").attr("src",a),$("#audio").css("display","flex"),$("#audio").css("display","webkit-flex"),$("#audio").addClass("active"),img_res(),audio.play(),playkeeper=setTimeout(recordPlayehbuhfiojp2312,1e4,o)):e.err?Err(e.message):Err("An unexpected error was encountered. Please try again...")})}function recordPlayehbuhfiojp2312(e){socket.emit("record_play_EIu4gfyver893if3r3",e)}function standardTime(e){var t=e/60,e=Math.floor(t),t=60*(t-e),t=Math.ceil(t);return 1==t.toString().length&&(t="0"+t),e+":"+t}function audioPlay(){(audio.src.includes(".mp3")||audio.src.includes(".m4a")||audio.src.includes(".wav"))&&audio.play()}function audioPause(){audio.pause()}function audioStop(){(audio.src.includes(".mp3")||audio.src.includes(".m4a")||audio.src.includes(".wav"))&&(audio.pause(),$("#audioPlay").children().first().removeClass("fa-pause").addClass("fa-play"),$("#audioPlay").attr("onclick","audioPlay()"),audio.currentTime=0,$("#audioCurrentTime").text("0:00"),$("#audioKeep").css("width","0%"))}function updateUser(){var e=username();null!=e&&socket.emit("update_user",e)}function picture(e){e=$(e).attr("data-picture");""!=e?($("#picture-img").on("load",function(){var e=$("#picture-img")[0].width,t=$("#picture-img")[0].height,a=$("#picture-view")[0].height,o=$("#picture-view")[0].width;o<a?$("#picture-img").css("width","50%").css("height","auto"):a<o?$("#picture-img").css("width","auto").css("height","50%"):t<e?$("#picture-img").css("width","50%").css("height","auto"):(e<t?$("#picture-img").css("width","auto"):$("#picture-img").css("width","50%")).css("height","50%")}),$("#picture-img").attr("src",e),tab("picture")):Err("Error getting source")}function timer(e){if("NaN"==parseInt(e).toString())return"Welcome Message";var t=Number(timex),t=Math.floor((t-e)/1e3),e=Math.floor(t/31536e3);return 1<e?e+"years":1<(e=Math.floor(t/2592e3))?e+" months":1<(e=Math.floor(t/86400))?e+" days":1<(e=Math.floor(t/3600))?e+" hours":1<(e=Math.floor(t/60))?e+" minutes":Math.floor(t)+" seconds ago"}function backToTop(){$(window).scrollTop(0)}function dia(e){e='<div class="headery no-bg"><p class="light-black">'+e.title+'</p><button onclick="bootbox.hideAll()" class="grey no-bg"><i class="fa fa-close"></i></button></div>'+e.html;bootbox.dialog({closeButton:!1,message:e})}function Err(e){bootbox.alert("<h3 class='text-danger panH2'>Error</h3><p class='panP light-black'>"+e+"</p>")}function Succ(e){bootbox.alert("<h3 class='text-success panH2'>Success</h3><p class='panP light-black'>"+e+"</p>")}function Info(e){bootbox.alert("<h3 class='text-info\ttext-primary panH2'>Info</h3><p class='panP light-black'>"+e+"</p>")}function checkForStorage(){return"undefined"!=typeof Storage}function entities(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\n/g,"<br>")}function upl(e){$("#upl").text(e.toString()+"%").attr("aria-valuenow",e.toString()).css("width",e.toString()+"%")}function uploader(e){upl(0),1==e&&$("#uploader").show(),0==e&&$("#uploader").hide()}function isArray(e){return-1<e.constructor.toString().indexOf("Array")}function unboot(){bootbox.hideAll()}function confcall(e){unboot(),confirmx(e)}function Confirm(e,t,a){e='<div class="wide no-bg"><p class="panP light-bottom padten black wide">'+e+'</p><div class="wide text-right"><button class="btn btn-default marfive" onclick="confcall(true)">Yes</button><button onclick="confcall(false)" class="btn btn-default marfive">No</button></div></div>';window.confirmx=t,bootbox.dialog({message:e,closeButton:a,locale:"en",callback:function(e){confcall(!1)},onEscape:!1})}function note(e,t){var a;""!=e&&("undefined"!=window.noteTO&&(clearTimeout(window.noteTO),delete window.noteTO),"undefined"!=window.noteON&&(clearTimeout(window.noteON),delete window.noteON),null!=(a=document.getElementById("note"))&&(null!=a.classList.toString().match(/active/gi)?(closeNote(),window.noteON=setTimeout(note,500,e,t)):($("#noti").html(e),openNote(),0!=t&&(window.noteTO=setTimeout(closeNote,t)))))}function openNote(){$("#note").addClass("active")}function closeNote(){var e=document.getElementById("note");null!=e&&(null!=e.classList.toString().match(/active/gi)&&$("#note").removeClass("active"),"undefined"!=window.noteTO&&(clearTimeout(window.noteTo),delete window.noteTO),"undefined"!=window.noteON&&(clearTimeout(window.noteON),delete window.noteON))}function muteNote(){Confirm("are you sure you want to mute notifications?<br><small>(you will not be getting important notifications until you reload this page)</small>",function(e){e&&(closeNote(),setTimeout(function(){$("#note").detach()},500))},!1)}function username(){var e=$("#activeuser").val();return""!=e?e:null}function userLogout(){Confirm("Are you sure you want to sign out?",function(e){e&&(preloader(1),window.location="/account/logout/1")},!1)}function cash(e){return null==e?"0.00":num(e.toFixed(2))}function num(e){e=e.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}function sanitize(e){return e.trim().toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function link(e){window.location=e}function cloud(t,a){socket.emit("upload_to_cloud",t,function(e){e.succ?a(!0,e.message):a(!1,t)})}function dateFromTimestamp(e){var t,a=Number(e),o=new Date(a),i=o.getDate(),n=o.getMonth(),e=o.getFullYear(),a=o.getHours();11<a?(t="PM",12<a&&(a-=12)):(t="AM",a<1&&(a=12));var r,o=o.getMinutes();switch(1==a.toString().length&&(a="0"+a),1==o.toString().length&&(o="0"+o),n){case 0:r="Jan";break;case 1:r="Feb";break;case 2:r="Mar";break;case 3:r="Apr";break;case 4:r="May";break;case 5:r="Jun";break;case 6:r="Jul";break;case 7:r="Aug";break;case 8:r="Sep";break;case 9:r="Oct";break;case 10:r="Nov";break;case 11:r="Dec";break;default:r="Jan"}return r+" "+i+", "+e+" at "+a+":"+o+" "+t}audio.addEventListener("loadstart",function(){$("#audioFeedback").children().first().removeClass("fa-warning").addClass("fa-reload"),$("#audioFeedback").addClass("active"),$("#audioCurrentTime,#audioTotalTime").text("0:00"),$("#audioKeep").css("width","0%")}),audio.addEventListener("abort",function(){$("#audioFeedback").children().first().removeClass("fa-reload").addClass("fa-warning"),$("#audioFeedback").addClass("active"),$("#audioCurrentTime,#audioTotalTime").text("0:00"),$("#audioKeep").css("width","0%")}),audio.addEventListener("error",function(){$("#audioFeedback").children().first().removeClass("fa-reload").addClass("fa-warning"),$("#audioFeedback").addClass("active"),$("#audioCurrentTime,#audioTotalTime").text("0:00"),$("#audioKeep").css("width","0%")}),audio.addEventListener("loadedmetadata",function(){$("#audioTotalTime").text(standardTime(audio.duration)),img_res()}),audio.addEventListener("durationchange",function(){$("#audioTotalTime").text(standardTime(audio.duration))}),audio.addEventListener("ended",function(){$("#audioPlay").children().first().removeClass("fa-pause").addClass("fa-play"),$("#audioPlay").attr("onclick","audioPlay()"),audio.currentTime=0,$("#audioCurrentTime").text("0:00"),$("#audioKeep").css("width","0%")}),audio.addEventListener("playing",function(){$("#audioPlay").children().first().removeClass("fa-play").addClass("fa-pause"),$("#audioPlay").attr("onclick","audioPause()")}),audio.addEventListener("play",function(){$("#audioPlay").children().first().removeClass("fa-play").addClass("fa-pause"),$("#audioPlay").attr("onclick","audioPause()")}),audio.addEventListener("pause",function(){$("#audioPlay").children().first().removeClass("fa-pause").addClass("fa-play"),$("#audioPlay").attr("onclick","audioPlay()")}),audio.addEventListener("loadeddata",function(){$("#audioFeedback").removeClass("active"),img_res()}),audio.addEventListener("timeupdate",function(){var e=audio.currentTime;$("#audioCurrentTime").text(standardTime(e));e=Math.ceil(e/audio.duration*100);$("#audioKeep").css("width",e+"%")}),window.addEventListener("beforeunload",function(){audio.pause()}),socket.on("admin_note",function(e,t){note(entities(e),t)}),socket.on("user_note",function(e,t){note(e,t)});